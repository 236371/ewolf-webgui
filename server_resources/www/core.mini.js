var AppContainer=function(e,a){var c=false;var b=true;var d=$("<div/>").attr({id:e+"ApplicationFrame"}).hide().appendTo(a);eWolf.bind("select."+e,function(g,f){if(e==f){d.slideDown(700);c=true;if(b){eWolf.trigger("refresh."+e,[e])}}else{d.slideUp(700);c=false}});eWolf.bind("refresh."+e,function(g,f){if(e==f){b=false}});eWolf.bind("needRefresh."+e,function(g,f){b=true;if(c){eWolf.trigger("refresh."+e,[e])}});return{getFrame:function(){return d},getId:function(){return e},isSelected:function(){return c},destroy:function(){eWolf.unbind("select."+e);d.remove();delete this}}};function Application(e,a,d,b,c){this.id=e;this.container=a;this.menu=d;this.menuList=b;this.loadingFrame=c;this.loader=null;this.loading=false;this.frame=$("<div/>").attr({id:this.id+"ApplicationFrame"}).hide().data("applicationItem",this).appendTo(this.container);return this}Application.prototype.appendLoader=function(a){this.loader=a};Application.prototype.isNeedRefresh=function(){return this.frame.is(":empty")};Application.prototype.isLoading=function(){return this.loading};Application.prototype.appear=function(){this.container.children("div").slideUp(700);this.frame.slideDown(700)};Application.prototype.setLoading=function(){this.loading=true;if(this.loader!=null){this.loader.showLoading()}};Application.prototype.clearLoading=function(){if(this.loader!=null){this.loader.hideLoading()}this.loading=false};Application.prototype.refresh=function(){};var Flicker=function(m,e){var l=new AppContainer(m,e);var c=l.getFrame();var b=l.getId();var f=new Date(0);var d=new Date(new Date()+7);var h=new ShowMore(c,function(){a(true)});var g=new RequestHandler(b,"http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?",k,null,60);function n(u,t,s,p,q){var o=false;if(u-d<0){d=u;o=true}if(u-f>0){f=u;o=false}return j(t,s,p,q,o)}function i(o,t){var p=f;var s=d;var q=null;var u=0;$.each(o,function(w,x){var y=new Date(x.published);var v=false;if(t){v=y-s<0}else{v=y-p>0}if(v){q=n(y,x.title,x.media.m,x.link,q);u++;if(u>7){h.draw();return false}}})}function j(u,t,p,s,o){var v=$("<a/>").attr({href:p,target:"_TRG_"+u});$("<img/>").attr({src:t,style:"padding:5px 5px 5px 5px; height:130px;"}).appendTo(v);if(s==null){if(o){c.append(v)}else{c.prepend(v)}}else{s.after(v)}var q=$("<em/>").append("&nbsp;");v.after(q);return q}function k(p,o){console.log(p);if(o.getOlderItems){h.remove()}i(p.items,o.getOlderItems)}function a(o){g.getData({tags:b,tagmode:"any",format:"json"},{getOlderItems:o})}eWolf.bind("refresh."+b,function(p,o){a(false)});return{getId:function(){return b},isSelected:function(){return l.isSelected()},destroy:function(){eWolf.unbind("refresh."+b);eWolf.unbind("select."+b);l.destroy();delete this}}};var Inbox=function(d,f){var n=new AppContainer(d,f);var e=n.getFrame();var b=0;var h=new RequestHandler(d,"/json",j,null,60);var a=null;var p=null;$("<div/>").attr({"class":"inboxListTitle",id:d+"Title"}).append("Inbox").appendTo(e);$("<input/>").attr({id:"newMessageBtn",type:"button",value:"New Message...","class":"newMessageBotton"}).appendTo(e).click(function(){new NewMessageBox("__newmessage__"+d,e)});var m=$("<div/>").appendTo(e);var k=$("<ul/>").attr({id:d}).appendTo(m);var g=new ShowMore(e,function(){c(true)}).draw();function o(q,w,u,t,v,s){if(p==null||u-p<0){p=u}if(a==null||u-a>0){a=u}return i(q,w,u,t,v,s)}function i(q,x,u,t,w,s){var v=new InboxItem("__inboxitem__"+b,q,x,u,t);b++;if(w==null){if(s){v.appendTo(k)}else{v.prependTo(k)}}else{v.insertAfter(w.getListItem())}return v}function c(q){var s={maxMessages:10};if(q&&a!=null&&p!=null){s.olderThan=p-1}else{if(a!=null){s.newerThan=a+1}}l(s,q)}function j(t,s){console.log(t);if(t.inbox!=null){if(t.inbox.result=="success"){if(t.inbox.messageList!=null){var q=null;$.each(t.inbox.messageList,function(u,v){q=o(v.senderName,v.senderID,v.timestamp,v.message,q,s.getOlderItems)});if(s.getOlderItems&&t.inbox.messageList.length<s.inbox.maxMessages){g.remove()}}else{console.log("No messageList parameter in response")}}else{console.log(t.inbox.result)}}else{console.log("No inbox parameter in response")}}function l(s,q){h.getData({inbox:s},{getOlderItems:q,inbox:s})}eWolf.bind("refresh."+d,function(s,q){c(false)});return{getId:function(){return d},isSelected:function(){return n.isSelected()},destroy:function(){eWolf.unbind("refresh."+d);n.destroy();delete this}}};var InboxItem=function(e,k,p,m,h){var n=">> ";var d="dd/MM/yyyy (HH:mm)";var j=null;var b=$("<li/>").attr({id:e});var g=$("<a/>").appendTo(b);var f=$("<span/>").attr({id:e,style:"width:1%;","class":"preMessageBox"}).append(n).appendTo(g);var c=$("<span/>").attr({id:e,style:"width:1%;"}).appendTo(g);var a=new Date(m);var l=$("<span/>").attr({id:e,"class":"timestampBox"}).append(a.toString(d)).appendTo(g);b.click(function(){if(j==null){j=$("<li/>").attr({id:e,"class":"messageBox"}).append(h).insertAfter(b)}else{j.toggle()}});function q(){var s=b.width()-l.width()-f.width()-20;c.text(k).shorten({width:s})}function o(){g.addClass("currentMenuSelection");selected=true;q()}function i(){g.removeClass("currentMenuSelection");selected=false;q()}eWolf.bind("select."+e,function(t,s){if(e==s){o()}else{i()}});eWolf.bind("mainFrameResize",function(t,s){q()});return{appendTo:function(s){b.appendTo(s);q();return this},prependTo:function(s){b.prependTo(s);q();return this},insertAfter:function(s){b.insertAfter(s);q();return this},getListItem:function(){return b},getId:function(){return e},destroy:function(){message.destroy();b.remove();delete this}};return this};var menuItemSpinnerOpts={lines:10,length:4,width:2,radius:3,rotate:0,color:"#000",speed:0.8,trail:60,shadow:false,hwaccel:false,className:"spinner",zIndex:2000000000,top:0,left:0};var Loading=function(b){var d=0;function a(){d++;b.spin(spinnerOpts);b.show(200)}function c(){b.hide(200);b.data("spinner").stop();d--}eWolf.bind("loading",a);eWolf.bind("loadingEnd",c);return{listenToEvent:function(f,e){eWolf.bind(f,a);eWolf.bind(e,c)},stopListenToEvent:function(f,e){eWolf.unbind(f,a);eWolf.unbind(e,c)}}};var spinnerOpts={lines:10,length:4,width:2,radius:3,rotate:0,color:"#fff",speed:0.8,trail:60,shadow:false,hwaccel:false,className:"spinner",zIndex:2000000000,top:0,left:0};$.fn.spin=function(a){this.each(function(){var c=$(this),b=c.data();if(b.spinner){b.spinner.stop();delete b.spinner}if(a!==false){b.spinner=new Spinner($.extend({color:c.css("color")},a)).spin(this)}});return this};var MailItem=function(d){var b=$("<div/>").append(d.text);if(d.attachment!=null){var a=$("<div/>").appendTo(b);var c=$("<ul/>").appendTo(b);$.each(d.attachment,function(g,f){if(f.contentType.substring(0,5)=="image"){var h=$("<a/>").attr({href:f.path,target:"_TRG_"+f.filename}).appendTo(a);$("<img/>").attr({src:f.path,style:"padding:5px 5px 5px 5px; height:130px;"}).appendTo(h);$("<em/>").append("&nbsp;").appendTo(a)}else{var e=$("<li/>").appendTo(c);$("<a/>").attr({href:f.path,target:"_TRG_"+f.filename}).append(f.filename).appendTo(e)}})}return b};var MainApps=function(h,b){var e=h.createNewMenuList("mainapps","Main");var g=[];var c=new Profile("profile",b);e.addMenuItem("profile","My Profile");g.push(c);var a=new Flicker("wall",b);e.addMenuItem("wall","My Wall");g.push(a);var f=new Flicker("news_feed",b);e.addMenuItem("news_feed","News Feed");g.push(f);var d=new Inbox("messages",b);e.addMenuItem("messages","Messages");g.push(d);return this};var MenuItem=function(c,n,l,j){var h=false;var g=false;var p=new MenuMessage(c+"Message","menuItemMessageClass",l,j);var a=$("<li/>").attr({id:c});var d=$("<a/>").appendTo(a);var i=$("<span/>").attr({id:c,style:"width:1%;"}).appendTo(d);var e=$("<div/>").attr({"class":"refreshButtonArea",id:c,}).appendTo(d).hide();var b=$("<div/>").attr({"class":"refreshButtonArea",id:c,}).appendTo(d).hide();var k=$("<img/>").attr({id:c,src:"refresh.svg","class":"refreshButton"}).appendTo(e);a.click(function(){if(g==false){eWolf.trigger("select",[c])}});k.click(function(){if(h==false){eWolf.trigger("refresh."+c,[c])}});a.mouseover(function(){p.show()});a.mouseout(function(){p.hide()});function o(){var q=145;if(g&&!h){e.show();q=q-20}else{e.hide()}if(h){b.show();q=q-20}else{b.hide()}i.text(n).shorten({width:q})}function m(){d.addClass("currentMenuSelection");g=true;o()}function f(){d.removeClass("currentMenuSelection");g=false;o()}eWolf.bind("select."+c,function(s,q){if(c==q){m()}else{f()}});eWolf.bind("loading."+c,function(s,q){if(c==q){h=true;o();b.spin(menuItemSpinnerOpts)}});eWolf.bind("loadingEnd."+c,function(s,q){if(c==q){h=false;o();b.data("spinner").stop()}});return{appendTo:function(q){a.appendTo(q);o();return this},getId:function(){return c},destroy:function(){p.destroy();a.remove();delete this}};return this};var menuItemSpinnerOpts={lines:10,length:4,width:2,radius:3,rotate:0,color:"#000",speed:0.8,trail:60,shadow:false,hwaccel:false,className:"spinner",zIndex:2000000000,top:0,left:0};var MenuList=function(f,g,e,a){var b=[];var d=$("<div/>").attr({"class":"menuList",id:g+"Frame"}).hide();$("<div/>").attr({"class":"menuListTitle",id:g+"Title"}).append(e).appendTo(d);var c=$("<ul/>").attr({id:g}).appendTo(d);return{addMenuItem:function(j,i){var h=new MenuItem(j,i,"Click to show "+i.toLowerCase(),a).appendTo(c);b[j]=h;if(Object.keys(b).length>0){d.show()}},removeMenuItem:function(h){if(b[h]!=null){b[h].destroy();delete b[h]}if(Object.keys(b).length<=0){d.hide()}},appendTo:function(h){d.appendTo(h);return this}}};var MenuMessage=function(e,b,d,a){var c=null;return{show:function(){if(c==null){c=$("<div/>").attr({id:e,"class":b}).text(d).appendTo(a)}else{c.show()}},hide:function(){if(c!=null){c.remove();c=null}},destroy:function(){if(c!=null){c.remove();c=null;delete this}}}};var NewMessageBox=function(n,l){var c=new RequestHandler(n,"/json",s,null,0);var j=$("<div/>").attr({"class":"newMessageBoxClass"}).appendTo(l);var d=$("<table/>").appendTo(j);var m=$("<tr/>").appendTo(d);$("<td/>").append("Send to:").appendTo(m);var a=$("<input/>").attr({id:"sendToId",type:"text",placeholder:"Send to (user id)",style:"width:300px !important;"});$("<td/>").append(a).appendTo(m);var k=$("<tr/>").appendTo(d);$("<td/>").attr("style","vertical-align:text-top;").append("Message:").appendTo(k);var t=$("<textarea/>").attr({id:"textileMessage",placeholder:"Your message",style:"width:300px !important;height:300px  !important;"});$("<td/>").append(t).appendTo(k);var f=$("<tr/>").appendTo(d);$("<td/>").attr("style","vertical-align:text-top;").append("Attachment:").appendTo(f);var h=$("<td/>").appendTo(f);var e=new filedrag(h);var q=$("<tr/>").appendTo(d);$("<td/>").appendTo(q);var o=$("<td/>").appendTo(q);$("<input/>").attr({id:"sendMessageBtn",type:"button",value:"Send"}).appendTo(o).click(function(){c.getData({sendMessage:{userID:a.val(),message:t.val().replace(/\n/g,"<br>")}},{})});o.append("&nbsp;");$("<input/>").attr({id:"sabortBtn",type:"button",value:"Cancel"}).appendTo(o).click(function(){b()});var i=$("<tr/>").appendTo(d);$("<td/>").appendTo(i);var g=$("<td/>").appendTo(i);var p=$("<span/>").attr({style:"color:red;"}).appendTo(g);function s(v,u){console.log(v);if(v.sendMessage!=null){if(v.sendMessage.result=="success"){b()}else{p.html(v.sendMessage.result)}}else{console.log("No sendMessage parameter in response")}}function b(){if(j!=null){j.remove();j=null}delete this}return{destroy:function(){b()}}};var NewsFeed=function(){};var NewsFeedItem=function(f,a,e,c,d,b){};var Profile=function(b,e){var k=new AppContainer(b,e);var c=k.getFrame();var g=new RequestHandler(b,"/json",i,null,3600);$("<div/>").attr({"class":"profileTitle",id:b+"Title"}).append("My Profile").appendTo(c);var h=$("<div/>").appendTo(c);var a=null;$("<div/>").attr({"class":"wolfpacksTitle",id:b+"Title"}).append("My Wolfpacks").appendTo(c);var d=$("<div/>").appendTo(c);var j=null;function i(m,l){console.log(m);if(m.profile!=null){if(m.profile.result=="success"){if(a!=null){a.remove()}a=$("<ul/>").appendTo(h);$("<li/>").append("<B>Name:</B> "+m.profile.name).appendTo(a);$("<li/>").append("<B>ID:</B> "+m.profile.id).appendTo(a)}else{console.log(m.profile.result)}}else{console.log("No profile parameter in response")}if(m.wolfpacks!=null){if(m.wolfpacks.result=="success"){if(m.wolfpacks.wolfpacksList!=null){if(j!=null){j.remove()}j=$("<ul/>").appendTo(d);$.each(m.wolfpacks.wolfpacksList,function(o,n){$("<li/>").append(n).appendTo(j)})}else{console.log("No wolfpacksList parameter in response")}}else{console.log(m.wolfpacks.result)}}else{console.log("No wolfpacks parameter in response")}}function f(){g.getData({profile:{},wolfpacks:{}},null)}eWolf.bind("refresh."+b,function(m,l){f()});return{getId:function(){return b},isSelected:function(){return k.isSelected()},destroy:function(){eWolf.unbind("refresh."+b);k.destroy();delete this}}};var RequestHandler=function(g,e,b,d,a){var f=null;function c(){if(d!=null){d(passToHandler)}eWolf.trigger("loadingEnd",[g]);if(a>0){f=setTimeout("eWolf.trigger('needRefresh."+g+"',["+g+"])",a*1000)}}return{getId:function(){return g},setRequestAddress:function(h){e=h},getData:function(i,h){clearTimeout(f);eWolf.trigger("loading",[g]);$.post(e,JSON.stringify(i),function(k,j){b(k,h)},"json").complete(c)}}};var SearchApp=function(b,c,e,j,h,d){var k=c.createNewMenuList("search","Searches");var a=new Object();var i=null;function g(m,o){var n=new Flicker(m,e);a[m]=n;k.addMenuItem(m,o)}function l(m){if(a[m]!=null){a[m].destroy();delete a[m];k.removeMenuItem(m)}}function f(){if(i!=null){l(i);i=null}}d.click(function(){var m=j.val();if(m!=""){g(m,"Show "+m);eWolf.trigger("select",[m])}});h.click(function(){var m=j.val();if(m!=""){f();i=m;g(m,"Last: "+m);eWolf.trigger("select",[m])}});eWolf.bind("select."+b,function(n,m){if(m!=i){f()}});j.keyup(function(m){if(m.keyCode==13&&j.val()!=""){if(m.shiftKey){d.click()}else{h.click()}}if(j.val()==""){h.hide(200);d.hide(200)}else{h.show(200);d.show(200)}});return this};var ShowMore=function(c,b){var a=null;return{remove:function(){if(a!=null){a.remove()}return this},draw:function(){this.remove();a=$("<div/>").attr({"class":"showMoreClass"}).append("Show More...").click(b);c.append(a);return this}}};var SideMenu=function(a,e,i){a.data("menuObj",this);e.data("menuObj",this);var h=a.children("#toggleButtons");var n=h.children("#btnHideMenu").data("menuObj",this).click(function(){m()}),j=h.children("#btnShowMenu").data("menuObj",this).click(function(){p()}),k=h.children("#btnPin").data("menuObj",this).click(function(){o()}),d=h.children("#btnUnPin").data("menuObj",this).click(function(){l()}),c=[];function p(){j.hide();b();q();n.show()}function m(){n.hide();g();f();j.show()}function o(){q();k.hide();d.show();n.show();a.unbind("mouseover");a.unbind("mouseout")}function l(){f();d.hide();k.show();n.hide();a.mouseover(function(){b()});a.mouseout(function(){g()})}function g(){a.stop();a.animate({opacity:0.25,left:"-175px",},200,function(){})}function b(){a.stop();a.animate({opacity:0.7,left:"-35px",},200,function(){})}function f(){e.stop();e.animate({left:"30px",right:"0"},200,function(){eWolf.trigger("mainFrameResize",["sideMenu"])})}function q(){e.stop();e.animate({left:"170px",right:"0"},200,function(){eWolf.trigger("mainFrameResize",["sideMenu"])})}$(window).resize(function(){eWolf.trigger("mainFrameResize",["window"])});return{append:function(s){a.append(s)},createNewMenuList:function(u,t){var s=new MenuList(this,u,t,i).appendTo(a);c.push(s);return s}}};var Wolfpacks=function(g,b){var d=g.createNewMenuList("wolfpacks","Wolfpacks");var c=new RequestHandler("wolfpacks","/json",e,null,0);var f=[];c.getData({wolfpacks:{}},null);function a(h,j){var i=new Flicker(h,b);d.addMenuItem(h,j);f.push(i)}function e(h,i){console.log(h);if(h.wolfpacks!=null){if(h.wolfpacks.result=="success"){if(h.wolfpacks.wolfpacksList!=null){$.each(h.wolfpacks.wolfpacksList,function(k,j){a("__packid__"+j,j)})}else{console.log("No wolfpackList parameter in response")}}else{console.log(h.wolfpacks.result)}}else{console.log("No wolfpacks parameter in response")}}return this};jQuery.extend({createUploadIframe:function(d,b){var a="jUploadFrame"+d;var c='<iframe id="'+a+'" name="'+a+'" style="position:absolute; top:-9999px; left:-9999px"';if(window.ActiveXObject){if(typeof b=="boolean"){c+=' src="javascript:false"'}else{if(typeof b=="string"){c+=' src="'+b+'"'}}}c+=" />";jQuery(c).appendTo(document.body);return jQuery("#"+a).get(0)},createUploadForm:function(a,j,d){var h="jUploadForm"+a;var c="jUploadFile"+a;var b=jQuery('<form  action="" method="POST" name="'+h+'" id="'+h+'" enctype="multipart/form-data"></form>');if(d){for(var e in d){jQuery('<input type="hidden" name="'+e+'" value="'+d[e]+'" />').appendTo(b)}}jQuery('<input type="hidden" name="wolfpackName" value="StamWolfpack" />').appendTo(b);var f=jQuery("#"+j);var g=jQuery(f).clone();jQuery(f).attr("id",c);jQuery(f).before(g);jQuery(f).appendTo(b);jQuery(b).css("position","absolute");jQuery(b).css("top","-1200px");jQuery(b).css("left","-1200px");jQuery(b).appendTo("body");return b},ajaxFileUpload:function(k){k=jQuery.extend({},jQuery.ajaxSettings,k);var a=new Date().getTime();var b=jQuery.createUploadForm(a,k.fileElementId,(typeof(k.data)=="undefined"?false:k.data));var i=jQuery.createUploadIframe(a,k.secureuri);var h="jUploadFrame"+a;var j="jUploadForm"+a;if(k.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var c=false;var f={};if(k.global){jQuery.event.trigger("ajaxSend",[f,k])}var d=function(l){var p=document.getElementById(h);try{if(p.contentWindow){f.responseText=p.contentWindow.document.body?p.contentWindow.document.body.innerHTML:null;f.responseXML=p.contentWindow.document.XMLDocument?p.contentWindow.document.XMLDocument:p.contentWindow.document}else{if(p.contentDocument){f.responseText=p.contentDocument.document.body?p.contentDocument.document.body.innerHTML:null;f.responseXML=p.contentDocument.document.XMLDocument?p.contentDocument.document.XMLDocument:p.contentDocument.document}}}catch(o){jQuery.handleError(k,f,null,o)}if(f||l=="timeout"){c=true;var m;try{m=l!="timeout"?"success":"error";if(m!="error"){var n=jQuery.uploadHttpData(f,k.dataType);if(k.success){k.success(n,m)}if(k.global){jQuery.event.trigger("ajaxSuccess",[f,k])}}else{jQuery.handleError(k,f,m)}}catch(o){m="error";jQuery.handleError(k,f,m,o)}if(k.global){jQuery.event.trigger("ajaxComplete",[f,k])}if(k.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}if(k.complete){k.complete(f,m)}jQuery(p).unbind();setTimeout(function(){try{jQuery(p).remove();jQuery(b).remove()}catch(q){jQuery.handleError(k,f,null,q)}},100);f=null}};if(k.timeout>0){setTimeout(function(){if(!c){d("timeout")}},k.timeout)}try{var b=jQuery("#"+j);jQuery(b).attr("action",k.url);jQuery(b).attr("method","POST");jQuery(b).attr("target",h);if(b.encoding){jQuery(b).attr("encoding","multipart/form-data")}else{jQuery(b).attr("enctype","multipart/form-data")}jQuery(b).submit()}catch(g){jQuery.handleError(k,f,null,g)}jQuery("#"+h).load(d);return{abort:function(){}}},uploadHttpData:function(r,type){var data=!type;data=type=="xml"||data?r.responseXML:r.responseText;if(type=="script"){jQuery.globalEval(data)}if(type=="json"){eval("data = "+data)}if(type=="html"){jQuery("<div>").html(data).evalScripts()}return data}});var eWolfMaster=new function(){};var eWolf=$(eWolfMaster);var filedrag=function(b){var f=[];var j=$("<input/>").attr({type:"file",id:"fileselect",name:"fileselect[]",multiple:"multiple"}).appendTo(b);var e=$("<div/>").attr("id","filedrag").append("or drop files here").appendTo(b);var i=$("<ul/>").attr("id","filelist").appendTo(b);function g(m){var l=$("<input/>").attr({type:"checkbox"});$("<li/>").attr({"class":"filelistItem"}).append(l).append(m).appendTo(i)}if(window.File&&window.FileList&&window.FileReader){d()}function k(l){return document.getElementById(l)}function h(l){l.stopPropagation();l.preventDefault();l.target.className=(l.type=="dragover"?"hover":"")}function a(o){h(o);var m=o.target.files||o.dataTransfer.files;for(var l=0,n;n=m[l];l++){f.push(n);c(n)}}function c(l){g("<strong>"+l.name+"</strong> type: <strong>"+l.type+"</strong> size: <strong>"+l.size+"</strong> bytes")}function d(){j[0].addEventListener("change",a,false);var l=new XMLHttpRequest();if(l.upload){e[0].addEventListener("dragover",h,false);e[0].addEventListener("dragleave",h,false);e[0].addEventListener("drop",a,false);e[0].style.display="block"}}return{getFiles:function(){return files}}};Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var e=Date.CultureInfo.monthNames,a=Date.CultureInfo.abbreviatedMonthNames,d=b.toLowerCase();for(var c=0;c<e.length;c++){if(e[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.getDayNumberFromName=function(b){var f=Date.CultureInfo.dayNames,a=Date.CultureInfo.abbreviatedDayNames,e=Date.CultureInfo.shortestDayNames,d=b.toLowerCase();for(var c=0;c<f.length;c++){if(f[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.isLeapYear=function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.getDaysInMonth=function(a,b){return[31,(Date.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][b]};Date.getTimezoneOffset=function(a,b){return(b||false)?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]};Date.getTimezoneAbbreviation=function(b,d){var c=(d||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,a;for(a in c){if(c[a]===b){return a}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(a){if(isNaN(this)){throw new Error(this)}if(a instanceof Date&&!isNaN(a)){return(this>a)?1:(this<a)?-1:0}else{throw new TypeError(a)}};Date.prototype.equals=function(a){return(this.compareTo(a)===0)};Date.prototype.between=function(c,a){var b=this.getTime();return b>=c.getTime()&&b<=a.getTime()};Date.prototype.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};Date.prototype.addSeconds=function(a){return this.addMilliseconds(a*1000)};Date.prototype.addMinutes=function(a){return this.addMilliseconds(a*60000)};Date.prototype.addHours=function(a){return this.addMilliseconds(a*3600000)};Date.prototype.addDays=function(a){return this.addMilliseconds(a*86400000)};Date.prototype.addWeeks=function(a){return this.addMilliseconds(a*604800000)};Date.prototype.addMonths=function(a){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(b,this.getDaysInMonth()));return this};Date.prototype.addYears=function(a){return this.addMonths(a*12)};Date.prototype.add=function(b){if(typeof b=="number"){this._orient=b;return this}var a=b;if(a.millisecond||a.milliseconds){this.addMilliseconds(a.millisecond||a.milliseconds)}if(a.second||a.seconds){this.addSeconds(a.second||a.seconds)}if(a.minute||a.minutes){this.addMinutes(a.minute||a.minutes)}if(a.hour||a.hours){this.addHours(a.hour||a.hours)}if(a.month||a.months){this.addMonths(a.month||a.months)}if(a.year||a.years){this.addYears(a.year||a.years)}if(a.day||a.days){this.addDays(a.day||a.days)}return this};Date._validate=function(d,c,a,b){if(typeof d!="number"){throw new TypeError(d+" is not a Number.")}else{if(d<c||d>a){throw new RangeError(d+" is not a valid value for "+b+".")}}return true};Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")};Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")};Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")};Date.validateHour=function(a){return Date._validate(a,0,23,"hours")};Date.validateDay=function(c,a,b){return Date._validate(c,1,Date.getDaysInMonth(a,b),"days")};Date.validateMonth=function(a){return Date._validate(a,0,11,"months")};Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")};Date.prototype.set=function(b){var a=b;if(!a.millisecond&&a.millisecond!==0){a.millisecond=-1}if(!a.second&&a.second!==0){a.second=-1}if(!a.minute&&a.minute!==0){a.minute=-1}if(!a.hour&&a.hour!==0){a.hour=-1}if(!a.day&&a.day!==0){a.day=-1}if(!a.month&&a.month!==0){a.month=-1}if(!a.year&&a.year!==0){a.year=-1}if(a.millisecond!=-1&&Date.validateMillisecond(a.millisecond)){this.addMilliseconds(a.millisecond-this.getMilliseconds())}if(a.second!=-1&&Date.validateSecond(a.second)){this.addSeconds(a.second-this.getSeconds())}if(a.minute!=-1&&Date.validateMinute(a.minute)){this.addMinutes(a.minute-this.getMinutes())}if(a.hour!=-1&&Date.validateHour(a.hour)){this.addHours(a.hour-this.getHours())}if(a.month!==-1&&Date.validateMonth(a.month)){this.addMonths(a.month-this.getMonth())}if(a.year!=-1&&Date.validateYear(a.year)){this.addYears(a.year-this.getFullYear())}if(a.day!=-1&&Date.validateDay(a.day,this.getFullYear(),this.getMonth())){this.addDays(a.day-this.getDate())}if(a.timezone){this.setTimezone(a.timezone)}if(a.timezoneOffset){this.setTimezoneOffset(a.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||+1))%7;return this.addDays((c===0)?c+=7*(b||+1):c)};Date.prototype.moveToMonth=function(c,a){var b=(c-this.getMonth()+12*(a||+1))%12;return this.addMonths((b===0)?b+=12*(a||+1):b)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(a){var h=this.getFullYear(),c=this.getMonth(),f=this.getDate();var j=a||Date.CultureInfo.firstDayOfWeek;var e=7+1-new Date(h,0,1).getDay();if(e==8){e=1}var b=((Date.UTC(h,c,f,0,0,0)-Date.UTC(h,0,1,0,0,0))/86400000)+1;var i=Math.floor((b-e+7)/7);if(i===j){h--;var g=7+1-new Date(h,0,1).getDay();if(g==2||g==8){i=53}else{i=52}}return i};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var a=this.getTimezoneOffset(),c=Number(b)*-6/10;this.addMinutes(c-a);return this};Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))};Date.prototype.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6,a;if(b<0){a=(b-10000).toString();return a[0]+a.substr(2)}else{a=(b+10000).toString();return"+"+a.substr(1)}};Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(c){var a=this;var b=function b(d){return(d.toString().length==1)?"0"+d:d};return c?c.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(d){switch(d){case"hh":return b(a.getHours()<13?a.getHours():(a.getHours()-12));case"h":return a.getHours()<13?a.getHours():(a.getHours()-12);case"HH":return b(a.getHours());case"H":return a.getHours();case"mm":return b(a.getMinutes());case"m":return a.getMinutes();case"ss":return b(a.getSeconds());case"s":return a.getSeconds();case"yyyy":return a.getFullYear();case"yy":return a.getFullYear().toString().substring(2,4);case"dddd":return a.getDayName();case"ddd":return a.getDayName(true);case"dd":return b(a.getDate());case"d":return a.getDate().toString();case"MMMM":return a.getMonthName();case"MMM":return a.getMonthName(true);case"MM":return b((a.getMonth()+1));case"M":return a.getMonth()+1;case"t":return a.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return a.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};Date.now=function(){return new Date()};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var a={};a[this._dateElement]=this;return Date.now().add(a)};Number.prototype.ago=function(){var a={};a[this._dateElement]=this*-1;return Date.now().add(a)};(function(){var g=Date.prototype,a=Number.prototype;var p=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),o=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),m;var l=function(i){return function(){if(this._is){this._is=false;return this.getDay()==i}return this.moveToDayOfWeek(i,this._orient)}};for(var f=0;f<p.length;f++){g[p[f]]=g[p[f].substring(0,3)]=l(f)}var h=function(i){return function(){if(this._is){this._is=false;return this.getMonth()===i}return this.moveToMonth(i,this._orient)}};for(var d=0;d<o.length;d++){g[o[d]]=g[o[d].substring(0,3)]=h(d)}var e=function(i){return function(){if(i.substring(i.length-1)!="s"){i+="s"}return this["add"+i](this._orient)}};var b=function(i){return function(){this._dateElement=i;return this}};for(var c=0;c<n.length;c++){m=n[c].toLowerCase();g[m]=g[m+"s"]=e(n[c]);a[m]=a[m+"s"]=b(m)}}());Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(i){this.message="Parse error at '"+i.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(i){return function(j){var k=j.match(i);if(k){return([k[0],j.substring(k[0].length)])}else{throw new a.Exception(j)}}},token:function(i){return function(j){return c.rtoken(new RegExp("^s*"+j+"s*"))(j)}},stoken:function(i){return c.rtoken(new RegExp("^"+i))},until:function(i){return function(j){var k=[],m=null;while(j.length){try{m=i.call(this,j)}catch(l){k.push(m[0]);j=m[1];continue}break}return[k,j]}},many:function(i){return function(j){var m=[],k=null;while(j.length){try{k=i.call(this,j)}catch(l){return[m,j]}m.push(k[0]);j=k[1]}return[m,j]}},optional:function(i){return function(j){var k=null;try{k=i.call(this,j)}catch(l){return[null,j]}return[k[0],k[1]]}},not:function(i){return function(j){try{i.call(this,j)}catch(k){return[null,j]}throw new a.Exception(j)}},ignore:function(i){return i?function(j){var k=null;k=i.call(this,j);return[null,k[1]]}:null},product:function(){var k=arguments[0],l=Array.prototype.slice.call(arguments,1),m=[];for(var j=0;j<k.length;j++){m.push(c.each(k[j],l))}return m},cache:function(k){var i={},j=null;return function(l){try{j=i[l]=(i[l]||k.call(this,l))}catch(m){j=i[l]=m}if(j instanceof a.Exception){throw j}else{return j}}},any:function(){var i=arguments;return function(k){var l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue}try{l=(i[j].call(this,k))}catch(m){l=null}if(l){return l}}throw new a.Exception(k)}},each:function(){var i=arguments;return function(k){var n=[],l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue}try{l=(i[j].call(this,k))}catch(m){throw new a.Exception(k)}n.push(l[0]);k=l[1]}return[n,k]}},all:function(){var j=arguments,i=i;return i.each(i.optional(j))},sequence:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;if(i.length==1){return i[0]}return function(o){var p=null,t=null;var v=[];for(var n=0;n<i.length;n++){try{p=i[n].call(this,o)}catch(u){break}v.push(p[0]);try{t=j.call(this,p[1])}catch(m){t=null;break}o=t[1]}if(!p){throw new a.Exception(o)}if(t){throw new a.Exception(t[1])}if(k){try{p=k.call(this,p[1])}catch(l){throw new a.Exception(p[1])}}return[v,(p?p[1]:o)]}},between:function(j,k,i){i=i||j;var l=c.each(c.ignore(j),k,c.ignore(i));return function(m){var n=l.call(this,m);return[[n[0][0],r[0][2]],n[1]]}},list:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return(i instanceof Array?c.each(c.product(i.slice(0,-1),c.ignore(j)),i.slice(-1),c.ignore(k)):c.each(c.many(c.each(i,c.ignore(j))),px,c.ignore(k)))},set:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return function(B){var l=null,n=null,m=null,o=null,t=[[],B],A=false;for(var v=0;v<i.length;v++){m=null;n=null;l=null;A=(i.length==1);try{l=i[v].call(this,B)}catch(y){continue}o=[[l[0]],l[1]];if(l[1].length>0&&!A){try{m=j.call(this,l[1])}catch(z){A=true}}else{A=true}if(!A&&m[1].length===0){A=true}if(!A){var w=[];for(var u=0;u<i.length;u++){if(v!=u){w.push(i[u])}}n=c.set(w,j).call(this,m[1]);if(n[0].length>0){o[0]=o[0].concat(n[0]);o[1]=n[1]}}if(o[1].length<t[1].length){t=o}if(t[1].length===0){break}}if(t[0].length===0){return t}if(k){try{m=k.call(this,t[1])}catch(x){throw new a.Exception(t[1])}t[1]=m[1]}return t}},forward:function(i,j){return function(k){return i[j].call(this,k)}},replace:function(j,i){return function(k){var l=j.call(this,k);return[i,l[1]]}},process:function(j,i){return function(k){var l=j.call(this,k);return[i.call(this,l[0]),l[1]]}},min:function(i,j){return function(k){var l=j.call(this,k);if(l[0].length<i){throw new a.Exception(k)}return l}}};var h=function(i){return function(){var j=null,m=[];if(arguments.length>1){j=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){j=arguments[0]}}if(j){for(var l=0,k=j.shift();l<k.length;l++){j.unshift(k[l]);m.push(i.apply(null,j));j.shift();return m}}else{return i.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(i){return function(){if(arguments[0] instanceof Array){return i.apply(null,arguments[0])}else{return i.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var f=function(j){var k=[];for(var g=0;g<j.length;g++){if(j[g] instanceof Array){k=k.concat(f(j[g]))}else{if(j[g]){k.push(j[g])}}}return k};Date.Grammar={};Date.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var j=g.replace(/[^\d\+\-]/g,"");if(j.length){this.timezoneOffset=Number(j)}else{this.timezone=g.toLowerCase()}}},day:function(g){var j=g[0];return function(){this.day=Number(j.match(/\d+/)[0])}},month:function(g){return function(){this.month=((g.length==3)?Date.getMonthNumberFromName(g):(Number(g)-1))}},year:function(g){return function(){var j=Number(g);this.year=((g.length>2)?j:(j+(((j+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];var j=new Date();this.year=j.getFullYear();this.month=j.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;for(var k=0;k<g.length;k++){if(g[k]){g[k].call(this)}}this.hour=(this.meridian=="p"&&this.hour<13)?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var l=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){l.set({timezone:this.timezone})}else{if(this.timezoneOffset){l.set({timezoneOffset:this.timezoneOffset})}}return l},finish:function(g){g=(g instanceof Array)?f(g):[g];if(g.length===0){return null}for(var m=0;m<g.length;m++){if(typeof g[m]=="function"){g[m].call(this)}}if(this.now){return new Date()}var j=Date.today();var p=null;var n=!!(this.days!=null||this.orient||this.operator);if(n){var o,l,k;k=((this.orient=="past"||this.operator=="subtract")?-1:1);if(this.weekday){this.unit="day";o=(Date.getDayNumberFromName(this.weekday)-j.getDay());l=7;this.days=o?((o+(k*l))%l):(k*l)}if(this.month){this.unit="month";o=(this.month-j.getMonth());l=12;this.months=o?((o+(k*l))%l):(k*l);this.month=null}if(!this.unit){this.unit="day"}if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}if(this.unit=="week"){this.unit="day";this.value=this.value*7}this[this.unit+"s"]=this.value*k}return j.add(this)}else{if(this.meridian&&this.hour){this.hour=(this.hour<13&&this.meridian=="p")?this.hour+12:this.hour}if(this.weekday&&!this.day){this.day=(j.addDays((Date.getDayNumberFromName(this.weekday)-j.getDay()))).getDate()}if(this.month&&!this.day){this.day=1}return j.set(this)}}};var b=Date.Parsing.Operators,e=Date.Grammar,d=Date.Translator,i;e.datePartDelimiter=b.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=b.stoken(":");e.whiteSpace=b.rtoken(/^\s*/);e.generalDelimiter=b.rtoken(/^(([\s\,]|at|on)+)/);var a={};e.ctoken=function(m){var l=a[m];if(!l){var n=Date.CultureInfo.regexPatterns;var k=m.split(/\s+/),j=[];for(var g=0;g<k.length;g++){j.push(b.replace(b.rtoken(n[k[g]]),k[g]))}l=a[m]=b.any.apply(null,j)}return l};e.ctoken2=function(g){return b.rtoken(Date.CultureInfo.regexPatterns[g])};e.h=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),d.hour));e.hh=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2])/),d.hour));e.H=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),d.hour));e.HH=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3])/),d.hour));e.m=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.minute));e.mm=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.minute));e.s=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.second));e.ss=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.second));e.hms=b.cache(b.sequence([e.H,e.mm,e.ss],e.timePartDelimiter));e.t=b.cache(b.process(e.ctoken2("shortMeridian"),d.meridian));e.tt=b.cache(b.process(e.ctoken2("longMeridian"),d.meridian));e.z=b.cache(b.process(b.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),d.timezone));e.zz=b.cache(b.process(b.rtoken(/^(\+|\-)\s*\d\d\d\d/),d.timezone));e.zzz=b.cache(b.process(e.ctoken2("timezone"),d.timezone));e.timeSuffix=b.each(b.ignore(e.whiteSpace),b.set([e.tt,e.zzz]));e.time=b.each(b.optional(b.ignore(b.stoken("T"))),e.hms,e.timeSuffix);e.d=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1]|\d)/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.dd=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1])/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.ddd=e.dddd=b.cache(b.process(e.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));e.M=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d|\d)/),d.month));e.MM=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d)/),d.month));e.MMM=e.MMMM=b.cache(b.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),d.month));e.y=b.cache(b.process(b.rtoken(/^(\d\d?)/),d.year));e.yy=b.cache(b.process(b.rtoken(/^(\d\d)/),d.year));e.yyy=b.cache(b.process(b.rtoken(/^(\d\d?\d?\d?)/),d.year));e.yyyy=b.cache(b.process(b.rtoken(/^(\d\d\d\d)/),d.year));i=function(){return b.each(b.any.apply(null,arguments),b.not(e.ctoken2("timeContext")))};e.day=i(e.d,e.dd);e.month=i(e.M,e.MMM);e.year=i(e.yyyy,e.yy);e.orientation=b.process(e.ctoken("past future"),function(g){return function(){this.orient=g}});e.operator=b.process(e.ctoken("add subtract"),function(g){return function(){this.operator=g}});e.rday=b.process(e.ctoken("yesterday tomorrow today now"),d.rday);e.unit=b.process(e.ctoken("minute hour day week month year"),function(g){return function(){this.unit=g}});e.value=b.process(b.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});e.expression=b.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,e.MMM]);i=function(){return b.set(arguments,e.datePartDelimiter)};e.mdy=i(e.ddd,e.month,e.day,e.year);e.ymd=i(e.ddd,e.year,e.month,e.day);e.dmy=i(e.ddd,e.day,e.month,e.year);e.date=function(g){return((e[Date.CultureInfo.dateElementOrder]||e.mdy).call(this,g))};e.format=b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(e[g]){return e[g]}else{throw Date.Parsing.Exception(g)}}),b.process(b.rtoken(/^[^dMyhHmstz]+/),function(g){return b.ignore(b.stoken(g))}))),function(g){return b.process(b.each.apply(null,g),d.finishExact)});var h={};var c=function(g){return h[g]=(h[g]||e.format(g)[0])};e.formats=function(j){if(j instanceof Array){var k=[];for(var g=0;g<j.length;g++){k.push(c(j[g]))}return b.any.apply(null,k)}else{return c(j)}};e._formats=e.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);e._start=b.process(b.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),d.finish);e.start=function(g){try{var j=e._formats.call({},g);if(j[1].length===0){return j}}catch(k){}return e._start.call({},g)}}());Date._parse=Date.parse;Date.parse=function(a){var b=null;if(!a){return null}try{b=Date.Grammar.start.call({},a)}catch(c){return null}return((b[1].length===0)?b[0]:null)};Date.getParseFunction=function(b){var a=Date.Grammar.formats(b);return function(c){var d=null;try{d=a.call({},c)}catch(f){return null}return((d[1].length===0)?d[0]:null)}};Date.parseExact=function(a,b){return Date.getParseFunction(b)(a)};(function(f){var k=false,l,a,e,m="shorten-info",d="shorten-options";f.fn.shorten=function(){var q={},o=arguments,p=o.callee;if(o.length){if(o[0].constructor==Object){q=o[0]}else{if(o[0]=="options"){return f(this).eq(0).data(d)}else{q={width:parseInt(o[0]),tail:o[1]}}}}this.css("visibility","hidden");var n=f.extend({},p.defaults,q);return this.each(function(){var z=f(this),F=z.text(),A=F.length,B,C=f("<span/>").html(n.tail).text(),y,t={shortened:false,textOverflow:false};if(z.css("float")!="none"){B=n.width||z.width()}else{B=n.width||z.parent().width()}if(B<0){return true}z.data(d,n);this.style.whiteSpace="nowrap";if(l){a=g.call(this);e=j}else{a=b.call(this);e=i}var u=e.call(this,F,a);if(u<B){z.text(F);this.style.visibility="visible";z.data(m,t);return true}if(n.tooltip){this.setAttribute("title",F)}if(p._native&&!q.width){var s=f("<span>"+n.tail+"</span>").text();if(s.length==1&&s.charCodeAt(0)==8230){z.text(F);this.style.overflow="hidden";this.style[p._native]="ellipsis";this.style.visibility="visible";t.shortened=true;t.textOverflow="ellipsis";z.data(m,t);return true}}y=e.call(this,C,a);B=B-y;var E=B*1.15;if(u-E>0){var v=E/u,x=Math.ceil(A*v),D=F.substring(0,x),w=e.call(this,D,a);if(w>B){F=D;A=F.length}}do{A--;F=F.substring(0,A)}while(e.call(this,F,a)>=B);z.html(f.trim(f("<span/>").text(F).html())+n.tail);this.style.visibility="visible";t.shortened=true;z.data(m,t);return true});return true};var h=document.documentElement.style;if("textOverflow" in h){k="textOverflow"}else{if("OTextOverflow" in h){k="OTextOverflow"}}if(typeof Modernizr!="undefined"&&Modernizr.canvastext){l=Modernizr.canvastext}else{var c=document.createElement("canvas");l=!!(c.getContext&&c.getContext("2d")&&(typeof c.getContext("2d").fillText==="function"))}f.fn.shorten._is_canvasTextSupported=l;f.fn.shorten._native=k;function g(){var o=f(this);var n=document.createElement("canvas");ctx=n.getContext("2d");o.html(n);ctx.font=o.css("font-style")+" "+o.css("font-variant")+" "+o.css("font-weight")+" "+Math.ceil(parseFloat(o.css("font-size")))+"px "+o.css("font-family");return ctx}function j(o,n){return n.measureText(o).width}function b(){var o="padding:0; margin:0; border:none; font:inherit;";var n=f('<table style="'+o+'width:auto;zoom:1;position:absolute;"><tr style="'+o+'"><td style="'+o+'white-space:nowrap;"></td></tr></table>');$td=f("td",n);f(this).html(n);return $td}function i(o,n){n.text(o);return n.width()}f.fn.shorten.defaults={tail:"&hellip;",tooltip:true}})(jQuery);(function(I,H,G){function C(b,h){var g=H.createElement(b||"div"),f;for(f in h){g[f]=h[f]}return g}function B(e){for(var d=1,f=arguments.length;d<f;d++){e.appendChild(arguments[d])}return e}function z(J,q,p,o){var n=["opacity",q,~~(J*100),p,o].join("-"),m=0.01+p/o*100,i=Math.max(1-(1-J)/q*(100-m),J),f=D.substring(0,D.indexOf("Animation")).toLowerCase(),e=f&&"-"+f+"-"||"";return E[n]||(A.insertRule("@"+e+"keyframes "+n+"{0%{opacity:"+i+"}"+m+"%{opacity:"+J+"}"+(m+0.01)+"%{opacity:1}"+(m+q)%100+"%{opacity:"+J+"}100%{opacity:"+i+"}}",0),E[n]=1),n}function y(d,c){var j=d.style,i,h;if(j[c]!==G){return c}c=c.charAt(0).toUpperCase()+c.slice(1);for(h=0;h<F.length;h++){i=F[h]+c;if(j[i]!==G){return i}}}function x(e,d){for(var f in d){e.style[y(e,f)||f]=d[f]}return e}function w(f){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var g in h){f[g]===G&&(f[g]=h[g])}}return f}function v(d){var c={x:d.offsetLeft,y:d.offsetTop};while(d=d.offsetParent){c.x+=d.offsetLeft,c.y+=d.offsetTop}return c}var F=["webkit","Moz","ms","O"],E={},D,A=function(){var b=C("style");return B(H.getElementsByTagName("head")[0],b),b.sheet||b.styleSheet}(),u={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:0.25,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto"},t=function s(b){if(!this.spin){return new s(b)}this.opts=w(b||{},s.defaults,u)};t.defaults={},w(t.prototype,{spin:function(R){this.stop();var Q=this,P=Q.opts,O=Q.el=x(C(0,{className:P.className}),{position:"relative",zIndex:P.zIndex}),N=P.radius+P.length+P.width,M,L;R&&(R.insertBefore(O,R.firstChild||null),L=v(R),M=v(O),x(O,{left:(P.left=="auto"?L.x-M.x+(R.offsetWidth>>1):P.left+N)+"px",top:(P.top=="auto"?L.y-M.y+(R.offsetHeight>>1):P.top+N)+"px"})),O.setAttribute("aria-role","progressbar"),Q.lines(O,Q.opts);if(!D){var K=0,J=P.fps,n=J/P.speed,l=(1-P.opacity)/(n*P.trail/100),g=n/P.lines;!function f(){K++;for(var b=P.lines;b;b--){var c=Math.max(1-(K+b*g)%n*l,P.opacity);Q.opacity(O,P.lines-b,c,P)}Q.timeout=Q.el&&setTimeout(f,~~(1000/J))}()}return Q},stop:function(){var b=this.el;return b&&(clearTimeout(this.timeout),b.parentNode&&b.parentNode.removeChild(b),this.el=G),this},lines:function(g,f){function h(b,c){return x(C(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*j+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.width>>1)+"px"})}var j=0,i;for(;j<f.lines;j++){i=x(C(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:D&&z(f.opacity,f.trail,j,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&B(i,x(h("#000","0 0 4px #000"),{top:"2px"})),B(g,B(i,h(f.color,"0 0 1px rgba(0,0,0,.1)")))}return g},opacity:function(e,d,f){d<e.childNodes.length&&(e.childNodes[d].style.opacity=f)}}),!function(){function d(f,e){return C("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var c=x(C("group"),{behavior:"url(#default#VML)"});!y(c,"transform")&&c.adj?(A.addRule(".spin-vml","behavior:url(#default#VML)"),t.prototype.lines=function(J,q){function n(){return x(d("group",{coordsize:o+" "+o,coordorigin:-p+" "+-p}),{width:o,height:o})}function a(f,j,i){B(l,B(x(n(),{rotation:360/q.lines*f+"deg",left:~~j}),B(x(d("roundrect",{arcsize:1}),{width:p,height:q.width,left:q.radius,top:-q.width>>1,filter:i}),d("fill",{color:q.color,opacity:q.opacity}),d("stroke",{opacity:0}))))}var p=q.length+q.width,o=2*p,m=-(q.width+q.length)*2+"px",l=x(n(),{position:"absolute",top:m,left:m}),h;if(q.shadow){for(h=1;h<=q.lines;h++){a(h,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(h=1;h<=q.lines;h++){a(h)}return B(J,l)},t.prototype.opacity=function(g,f,j,i){var h=g.firstChild;i=i.shadow&&i.lines||0,h&&f+i<h.childNodes.length&&(h=h.childNodes[f+i],h=h&&h.firstChild,h=h&&h.firstChild,h&&(h.opacity=j))}):D=y(c,"animation")}(),I.Spinner=t})(window,document);
/*!
 * Main function
 * Initializations
 */
$(document).ready(function(){new Loading($("#loadingFrame"));var a=new SideMenu($("#menu"),$("#mainFrame"),$("#topbarID"));new MainApps(a,$("#applicationFrame"));new Wolfpacks(a,$("#applicationFrame"));new SearchApp("search",a,$("#applicationFrame"),$("#txtSearchBox"),$("#btnSearch"),$("#btnAdd"));testZone()});function testZone(){$("#btnLoad").click(function(){alert("Does nothing...")})};